const messageHelper = require('../helpers/messageHelper');

async function onHoroscopeCommand(channel, tags) {
  const list = [
    'Сегодня у тебя хороший день! Поздравляю!',
    'Сегодня у тебя плохой день! Поздравляю!',
    'Возможно сегодня попадёшь на деньги',
    'Найдёшь свою любовь, базарю!',
    'Найдёшь приключения на свою жопу',
    'Пёрнешь жопой',
    'Свистнешь в хуй',
    'Обосрёшься во сне',
    'Берегись ОМОНА',
    'Точно попадёшь на деньги',
    'Выиграешь деньги!',
    'Сегодня у тебя будет секс PogChamp',
    'Сегодня у тебя будет секс (ебать будут тебя)',
    'Член уменьшится в два раза',
    'Член увеличится в полтора раза',
    'Вырастет борода',
    'Познакомишься со знаменитостью',
    'Обходи людные места',
    'Не выходи из комнаты, не совершай ошибку',
    'Ожидай увеличения груди',
    'Переметнёшься на тёмную сторону',
    'Вкусно покушаешь',
    'В тебя кто-то влюбится',
    'В тебя кто-то влюбится, но он урод',
    'Повезёт в любви',
    'Сегодня ты бессмертен',
    'Весь день будешь выглядеть как говно',
    'Твоя цифра на сегодня - 8',
    'Купи лотерею',
    'Бойся лошадей',
    'Бойся бояться',
    'Сегодня у тебя стальные яйца',
    'Будешь икать весь день',
    'Будет удачный день!',
    'Возможно будет кровоточить анус',
    'За тобой начнёт следить КГБ',
    'Сегодня тот день когда у тебя начнёт ехать кукуха',
    'Твоя жопа станет ещё жирнее',
    'Отличный день для отдыха!',
    'Твоя грудь начнёт расти',
    'Сегодня есть шанс найти скидку на хорошую игру в steam',
    'Звёзды не рекомендуют тебе сегодня уходить с этого канала',
    'Есть шанс что тебя взломают. Удаляй все нюдисы.',
    'Все ответы на твои вопросы в гугле',
    'Ты сделаешь свой лучший минет и тебе это понравится',
    'Боюсь секса ты ещё скоро не увидишь',
    'У тебя будет секс с собакой',
    'Будешь питаться только дошиком',
    'Когда-нибудь тебе повезёт',
    'Уйдёшь красиво',
    'Захочешь навести суету',
    'Это день когда у тебя начнёт усыхать член',
    'Сойдёшь с ума',
    'Вкусно поужинаешь',
    'Хуй знает что там с тобой будет дальше',
    'Даже гороском не хочет с тобой говорить',
    'Навернёшь говна',
    'Поешь говна',
    'Выпьешь сцаки',
    'Твой характер станет ещё хуже',
    'Ударишься мизинцем',
    'Появится новая родинка',
    'Станешь вонять ещё больше',
    'Глаз будет дёргаться',
    'Неудачный день чтобы начинать что-то новое',
    'Неудачный день для катки в твою любимую игру',
    'Твоя команда проиграет',
    'Кто-то будет скучать по тебе',
    'Тебя все забудут',
    'Жить станет только хуже',
    'Соси хуй',
    'Не забывай свои корни',
    'Жди трека своей любимой группы',
    'Нахватаешься вирусов из интернета',
    'Найдёшь хорошую порнушку!',
    'Сегодня будешь бухать',
    'Тебя сегодня набухают',
    'Узнаешь что значит быть шлюшкой',
    'Найдёшь распутную девку',
    'Обязательно купи пельмени!',
    'Купи биткоины!',
    'Минус ещё один день твоей никчёмной жизни',
    'Даже гороском не знает что тебя ждёт',
    'Тебя ждёт клёвый стрим',
    'Хороший день для оформления подписки на канале!',
    'Когда-нибудь ты будешь жить счастливо, но не сегодня',
    'Военкомат снова вспомнит о тебе',
    'Видишь свой живот? Он станет ещё больше!',
    'Просрёшь время в пустую',
    'Хороший день чтобы говорить правду',
    'Ты волен делать со своей судьбой всё что заблагорассудится!',
    'Помни про пиратский кодекс!',
    'Настало время начать то что откладывал всю жизнь',
    'Есть шанс разобатеть, главное верить!',
    'Хороший шанс обнять близкого',
    'Влюбишься в того кто тебя не любит',
    'Опасайся гусей!',
    'Ты начнёшь рубить фишку',
    'Отличный день для того чтобы обосцать штаны',
    'Тебе нужно вернуть все долги!',
    'Кто-то вернёт тебе долг',
    'Отличный день для покупки говна на алиэкспрес',
  ];

  const chatter = tags['display-name'] ?? tags.username;
  const uniqueTodayString = tags.username + (new Date()).toISOString().slice(0, 10);
  const prediction =  list[messageHelper.formatStringToNumber(uniqueTodayString, 2)];

  return `Звезды говорят что сегодня @${chatter} ждёт: ${prediction}`;
}

module.exports = onHoroscopeCommand;
